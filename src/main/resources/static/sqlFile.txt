#수정완료
CREATE TABLE customer (
	id VARCHAR(30) NOT NULL,
	pw VARCHAR(160) NOT NULL,
	nick_name VARCHAR(30) NOT NULL,
	register_date DATETIME DEFAULT NOW(),
	class VARCHAR(50) DEFAULT 'BRONZE',
	address VARCHAR(400) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE seller (
	id VARCHAR(30) NOT NULL,
	pw VARCHAR(160) NOT NULL,
	shop_name VARCHAR(40) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product (
	id bigint NOT NULL AUTO_INCREMENT,
	name VARCHAR(200) NOT NULL,
	price bigint NOT NULL DEFAULT 0,
	product_category_id bigint NOT NULL,
	description text,
	total_qty bigint,
	sold_qty bigint,
	register_date DATETIME DEFAULT NOW(),
	main_image VARCHAR(256),
	thumb_image VARCHAR(256),
	seller_id VARCHAR(30) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product_buy (
	id bigint NOT NULL AUTO_INCREMENT,
	qty bigint NOT NULL,
	address VARCHAR(400),
	buy_date DATETIME DEFAULT NOW(),
	progress VARCHAR(10) NOT NULL,
	delivery_pay bigint NOT NULL,
	pay_price bigint NOT NULL,
	discount_amount bigint,
	member_coupon_id bigint NOT NULL,
	product_id bigint NOT NULL,
	customer_id VARCHAR(30) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE address (
	id bigint NOT NULL,
	address VARCHAR(400) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product_review (
	id bigint NOT NULL AUTO_INCREMENT,
	title VARCHAR(100) NOT NULL,
	content VARCHAR(4000) NOT NULL,
	image VARCHAR(100),
	star bigint NOT NULL,
	register_date DATETIME DEFAULT NOW(),
	reply VARCHAR(4000),
	reply_date DATETIME DEFAULT NOW(),
	product_name VARCHAR(200) NOT NULL,
	rev_count bigint DEFAULT 0,
	rev_up_count bigint DEFAULT 0,
	rev_view_count bigint DEFAULT 0,
	customer_id VARCHAR(30) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE admin (
	id VARCHAR(100) NOT NULL,
	pw VARCHAR(100) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE member_coupon (
	coupon_id bigint NOT NULL AUTO_INCREMENT,
	issue_date DATETIME DEFAULT NOW(),
	end_date DATETIME,
	use_status BOOLEAN,
	use_date DATETIME,
	customer_id VARCHAR(30) NOT NULL,
	PRIMARY KEY (coupon_id)
);

#수정완료
CREATE TABLE coupon (
	id bigint NOT NULL AUTO_INCREMENT,
	name VARCHAR(100) NOT NULL,
	discount_amount bigint,
	discount_percentage bigint,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product_pick (
	customer_id VARCHAR(30) NOT NULL,
	qty bigint NOT NULL,
	product_id bigint NOT NULL
);

#수정완료
CREATE TABLE product_qna (
	id bigint NOT NULL AUTO_INCREMENT,
	title VARCHAR(100) NOT NULL,
	content VARCHAR(256) NOT NULL,
	register_date DATETIME DEFAULT NOW(),
	qna_status BOOLEAN NOT NULL,
	customer_id VARCHAR(30) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product_qna_answer (
	id bigint NOT NULL AUTO_INCREMENT,
	shop_name VARCHAR(40) NOT NULL,
	content VARCHAR(256) NOT NULL,
	customer_id VARCHAR(30) NOT NULL,
	answer_date DATETIME DEFAULT NOW(),
	seller_id VARCHAR(30) NOT NULL,
	qna_id bigint NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product_category_detail (
	id bigint NOT NULL,
	name VARCHAR(50) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product_category (
	id bigint NOT NULL,
	name VARCHAR(50) NOT NULL,
	product_category_detail_id bigint NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE payment (
	pay_id bigint NOT NULL AUTO_INCREMENT,
	pay_date DATETIME DEFAULT NOW(),
	pay_price bigint NOT NULL,
	pay_method VARCHAR(100) NOT NULL,
	customer_id VARCHAR(30) NOT NULL,
	product_buy_id bigint NOT NULL,
	PRIMARY KEY (pay_id)
);

#수정완료
CREATE TABLE notification (
	notify_type VARCHAR(100) NOT NULL,
	notify_content VARCHAR(200) NOT NULL,
	notify_date DATETIME DEFAULT NOW(),
	customer_id VARCHAR(30) NOT NULL
);

#수정완료
CREATE TABLE member_point (
	id bigint NOT NULL AUTO_INCREMENT,
	customer_id VARCHAR(30) NOT NULL,
	save_date DATETIME DEFAULT NOW(),
	use_date DATETIME,
	point_type VARCHAR(30),
	point_current bigint,
	point_amount bigint,
	PRIMARY KEY (id)
);
#수정완료
CREATE TABLE notice (
	id bigint NOT NULL AUTO_INCREMENT,
	title VARCHAR(100) NOT NULL,
	register_date DATETIME DEFAULT NOW(),
	admin_id VARCHAR(100) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE inquiry (
	id VARCHAR(30) NOT NULL,
	content TEXT NOT NULL,
	image VARCHAR(256) NOT NULL,
	category VARCHAR(100) NOT NULL,
	customer_id VARCHAR(30) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료(찜코드를 어떻게하면...)
CREATE TABLE seller_pick (
	id bigint NOT NULL,
	seller_id VARCHAR(30) NOT NULL,
	customer_id VARCHAR(30) NOT NULL,
	PRIMARY KEY (id)
);

#수정완료
CREATE TABLE product_detail_image (
	detail_image VARCHAR(256) NOT NULL,
	sequence int NOT NULL,
	product_id bigint NOT NULL
);


ALTER TABLE product ADD CONSTRAINT FK_product_category_TO_product_1 FOREIGN KEY (
	product_category_id
)
REFERENCES product_category (
	id
);

ALTER TABLE product ADD CONSTRAINT FK_seller_TO_product_1 FOREIGN KEY (
	seller_id
)
REFERENCES seller (
	id
);

ALTER TABLE product_buy ADD CONSTRAINT FK_member_coupon_TO_product_buy_1 FOREIGN KEY (
	member_coupon_id
)
REFERENCES member_coupon (
	coupon_id
);

ALTER TABLE product_buy ADD CONSTRAINT FK_product_TO_product_buy_1 FOREIGN KEY (
	product_id
)
REFERENCES product (
	id
);

ALTER TABLE product_buy ADD CONSTRAINT FK_customer_TO_product_buy_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE product_review ADD CONSTRAINT FK_customer_TO_product_review_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE member_coupon ADD CONSTRAINT FK_customer_TO_member_coupon_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE product_pick ADD CONSTRAINT FK_customer_TO_product_pick_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE product_pick ADD CONSTRAINT FK_product_TO_product_pick_1 FOREIGN KEY (
	product_id
)
REFERENCES product (
	id
);

ALTER TABLE product_qna ADD CONSTRAINT FK_customer_TO_product_qna_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE product_qna_answer ADD CONSTRAINT FK_seller_TO_product_qna_answer_1 FOREIGN KEY (
	seller_id
)
REFERENCES seller (
	id
);

ALTER TABLE product_qna_answer ADD CONSTRAINT FK_product_qna_TO_product_qna_answer_1 FOREIGN KEY (
	qna_id
)
REFERENCES product_qna (
	id
);

ALTER TABLE product_category ADD CONSTRAINT FK_product_category_detail_TO_product_category_1 FOREIGN KEY (
	product_category_detail_id
)
REFERENCES product_category_detail (
	id
);

ALTER TABLE payment ADD CONSTRAINT FK_customer_TO_payment_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE payment ADD CONSTRAINT FK_product_buy_TO_payment_1 FOREIGN KEY (
	product_buy_id
)
REFERENCES product_buy (
	id
);

ALTER TABLE notification ADD CONSTRAINT FK_customer_TO_notification_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE member_point ADD CONSTRAINT FK_customer_TO_member_point_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE notice ADD CONSTRAINT FK_admin_TO_notice_1 FOREIGN KEY (
	admin_id
)
REFERENCES admin (
	id
);

ALTER TABLE inquiry ADD CONSTRAINT FK_customer_TO_inquiry_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE seller_pick ADD CONSTRAINT FK_seller_TO_seller_pick_1 FOREIGN KEY (
	seller_id
)
REFERENCES seller (
	id
);

ALTER TABLE seller_pick ADD CONSTRAINT FK_customer_TO_seller_pick_1 FOREIGN KEY (
	customer_id
)
REFERENCES customer (
	id
);

ALTER TABLE product_detail_image ADD CONSTRAINT FK_product_TO_product_detail_image_1 FOREIGN KEY (
	product_id
)
REFERENCES product (
	id
);
